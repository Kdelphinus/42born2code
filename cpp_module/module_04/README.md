# C++ Module 04

## 개념

- `Subtype polymorphism` : 하위 클래스가 상위 클래스의 타입으로 취급될 수 있다는 의미
    - 상위 클래스의 변수에 하위 클래스의 객체를 할당할 수 있다. 이때, 변수는 상위 클래스로 선언되었지만 실제는 하위 클래스의 객체를 참조하고 있다.
    - 상위 클래스의 메서드를 호출할 때, 실제로는 하위 클래스의 오버라이딩된 메서드가 실행된다. 즉, 상위 클래스에 정의된 메서드를 하위 클래스에서 오버라이딩하여 다양한 동작을 수행할 수 있다.
- `abstract classes` : 추상 클래스
    - 직접 객체 생성은 불가한다. 왜냐하면 하위 클래스가 구체화해야 하는 메서드들을 가지고 있기 때문이다.
    - 그대신 상속을 통해 사용된다. 추상 클래스는 일종의 설계 도구로 사용되며 하위 클래스가 구현해야 하는 메서드나 속성을 정의할 수 있다.
    - 추상 클래스의 메서드는 프로토타입만 정의하고 실제 구현은 하위 클래스에서 이루어진다.
- `interfaces` : 클래스가 구현해야 하는 메서드의 집합을 정의하는 일종의 contract(계약)
    - 추상적인 개념으로 구체적인 구현 내용을 포함하지 않는다.
    - 메서드의 프로토타입만 정의하고, 실제 구현은 인터페이스를 구현한 클래스에서 이루어진다.
    - 클래스는 인터페이스를 구현함으로써 인터페이스에 정의된 메서드를 모두 구현해야 한다.
    - 만약 인터페이스에 정의된 메서드를 모두 구현하지 않는다면 추상 클래스로 선언되거나 컴파일 오류가 발생한다.

## 문제

### ex00

- 상속해줄 때, 기반 클래스의 소멸자를 가상 소멸자로 선언하지 않으면 무조건 기반 클래스이 소멸자를 호출한다.
- 상속할 함수 역시, 가상으로 선언하지 않으면 기반 클래스의 함수를 호출한다.

### ex01

- 기반 클래스를 const로 선언해야 할 때, 파생 클래스 만의 멤버함수를 어떻게 동작시킬 것인가

### ex02

- 추상 클래스는 하나 이상의 순수 가상 함수를 가지는 클래스이다.
- 순수 가상 함수는 클래스 선언 시, 기반 클래스에서 `= 0` 를 선언한다.
- 추상 클래스는 그 자체로 선언이 불가하다.
- 또한 순수 가상 함수는 파생 클래스에서 반드시 구현되어야 한다.

- 과제에서 파일을 update하라는 단어가 있어서 `AAnimal`을 새로 생성하지 않고 `Animal`을 만드는게 맞을 수도 있다.

### ex03

- c++에서 인터페이스를 직접 지원해주진 않지만 추상 클래스와 비슷한 역할을 한다.
- 인터페이스는 순수 가상 함수로만 구현되어있으며, 어떤 클래스든 해당 인터페이스를 구현하도록 강제한다.
- 즉, 추상 클래스는 파생 클래스가 순수 가상 함수를 구현해야 하는 반면, 인터페이스는 클래스가 인터페이스를 구현해야 한다.
- 현재 unequip때문에 leak이 생기는 듯

## 참고 자료

- [42seoul, C++ Module 04](https://cdn.intra.42.fr/pdf/pdf/79097/en.subject.pdf)
